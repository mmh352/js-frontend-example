var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function l(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(n,e,o){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}function s(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function i(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function p(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function g(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function m(t,n){t.value=null==n?"":n}let v;function $(t){v=t}function b(){const t=function(){if(!v)throw new Error("Function called outside component initialization");return v}();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const l=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach((n=>{n.call(t,l)}))}}}const x=[],y=[],k=[],_=[],A=Promise.resolve();let w=!1;function E(t){k.push(t)}let H=!1;const O=new Set;function j(){if(!H){H=!0;do{for(let t=0;t<x.length;t+=1){const n=x[t];$(n),C(n.$$)}for($(null),x.length=0;y.length;)y.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];O.has(n)||(O.add(n),n())}k.length=0}while(x.length);for(;_.length;)_.pop()();w=!1,H=!1,O.clear()}}function C(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const M=new Set;let S;function V(){S={r:0,c:[],p:S}}function T(){S.r||o(S.c),S=S.p}function L(t,n){t&&t.i&&(M.delete(t),t.i(n))}function N(t,n,e,o){if(t&&t.o){if(M.has(t))return;M.add(t),S.c.push((()=>{M.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function q(t){t&&t.c()}function B(t,e,r,c){const{fragment:s,on_mount:u,on_destroy:i,after_update:a}=t.$$;s&&s.m(e,r),c||E((()=>{const e=u.map(n).filter(l);i?i.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(E)}function I(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function P(t,n){-1===t.$$.dirty[0]&&(x.push(t),w||(w=!0,A.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function J(n,l,r,c,s,u,a=[-1]){const f=v;$(n);const d=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:e(),dirty:a,skip_bound:!1};let p=!1;if(d.ctx=r?r(n,l.props||{},((t,e,...o)=>{const l=o.length?o[0]:e;return d.ctx&&s(d.ctx[t],d.ctx[t]=l)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](l),p&&P(n,t)),e})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);d.fragment&&d.fragment.l(t),t.forEach(i)}else d.fragment&&d.fragment.c();l.intro&&L(n.$$.fragment),B(n,l.target,l.anchor,l.customElement),j()}$(f)}class z{$destroy(){I(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const D=[];function F(t,n){!function(t,n,e){let o={};const l=t.getItem("blogex:storage");l&&(o=JSON.parse(l));const r=n.split(".");let c=o;for(let t=0;t<r.length;t++){const n=r[t];t===r.length-1?c[n]=e:(c[n]||(c[n]={}),c=c[n])}t.setItem("blogex:storage",JSON.stringify(o))}(sessionStorage,t,n)}function Z(t,n){return function(t,n,e){const o=t.getItem("blogex:storage");if(o){const t=JSON.parse(o),l=n.split(".");let r=t;for(let t=0;t<l.length;t++){const n=l[t];if(t===l.length-1)return void 0!==r[n]?r[n]:e;if(!r[n])return e;r=r[n]}}return e}(sessionStorage,t,n)}function G(){let t=Z("articles",null);return null===t&&(t=function(){const t=[{id:"2",title:"Trying it out",author:{name:"Mark"},content:"A second post just to make sure that this works as well."},{id:"1",title:"First Post!",author:{name:"Mark"},content:"This is a first post to test the system."}];return F("articles",t),t}()),t.map((t=>({id:t.id,title:t.title,author:t.author})))}const K=function(){const{subscribe:n,update:e}=function(n,e=t){let o;const l=[];function c(t){if(r(n,t)&&(n=t,o)){const t=!D.length;for(let t=0;t<l.length;t+=1){const e=l[t];e[1](),D.push(e,n)}if(t){for(let t=0;t<D.length;t+=2)D[t][0](D[t+1]);D.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(r,s=t){const u=[r,s];return l.push(u),1===l.length&&(o=e(c)||t),r(n),()=>{const t=l.indexOf(u);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}([],(t=>{const n=setInterval((()=>{t(G())}),100);return()=>{clearInterval(n)}}));return{subscribe:n,fetchArticles(){const t=G();e((n=>{const e=[];return t.forEach((t=>{let o=-1;for(let e=0;e<n.length;e++)if(n[e].id==t.id){o=e;break}o>=0?e.push(Object.assign(Object.assign({},n[o]),t)):e.push(t)})),e}))},fetchArticle(t){const n=function(t){const n=Z("articles",null);if(null!==n)for(let e=0;e<n.length;e++)if(n[e].id===t)return n[e];return null}(t);n&&e((t=>{const e=[];let o=!1;for(let l=0;l<t.length;l++)t[l].id==n.id?(e.push(Object.assign(Object.assign({},t[l]),n)),o=!0):e.push(t[l]);return o||e.push(n),e}))},createArticle(t){t=function(t){let n=Z("articles",null);null===n&&(n=[]);const e=n.map((t=>t.id));let o=1;for(;e.indexOf(o.toString())>=0;)o++;return t=Object.assign(Object.assign({},t),{id:o.toString()}),n.splice(0,0,t),F("articles",n),t}(t),e((n=>{const e=[...n];return e.splice(0,0,t),e}))},deleteArticle(t){e((n=>n.filter((n=>n.id!==t)))),function(t){const n=Z("articles",null);null!==n&&F("articles",n.filter((n=>n.id!==t)))}(t)}}}();function Q(t){let n,e,o=t[0].content+"";return{c(){n=a("div"),e=f(o),g(n,"class","svelte-og9pv2")},m(t,o){u(t,n,o),s(n,e)},p(t,n){1&n&&o!==(o=t[0].content+"")&&h(e,o)},d(t){t&&i(n)}}}function R(n){let e,l,r,c,m,v,$,b,x,y,k,_,A,w=n[0].title+"",E=n[0].author.name+"",H=n[1]&&Q(n);return{c(){e=a("li"),l=a("h2"),r=a("button"),c=f(w),m=d(),v=a("button"),v.innerHTML='<svg viewBox="0 0 24 24"><path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"></path></svg>',$=d(),b=a("small"),x=f("written by "),y=f(E),k=d(),H&&H.c(),g(v,"class","right"),g(b,"class","svelte-og9pv2"),g(l,"class","svelte-og9pv2"),g(e,"class","svelte-og9pv2")},m(t,o){u(t,e,o),s(e,l),s(l,r),s(r,c),s(l,m),s(l,v),s(l,$),s(l,b),s(b,x),s(b,y),s(e,k),H&&H.m(e,null),_||(A=[p(r,"click",n[2]),p(v,"click",n[3])],_=!0)},p(t,[n]){1&n&&w!==(w=t[0].title+"")&&h(c,w),1&n&&E!==(E=t[0].author.name+"")&&h(y,E),t[1]?H?H.p(t,n):(H=Q(t),H.c(),H.m(e,null)):H&&(H.d(1),H=null)},i:t,o:t,d(t){t&&i(e),H&&H.d(),_=!1,o(A)}}}function U(t,n,e){let{article:o}=n,l=!1;return t.$$set=t=>{"article"in t&&e(0,o=t.article)},[o,l,function(){e(1,l=!l),l&&K.fetchArticle(o.id)},function(){K.deleteArticle(o.id)}]}K.fetchArticles();class W extends z{constructor(t){super(),J(this,t,U,R,r,{article:0})}}function X(t,n,e){const o=t.slice();return o[1]=n[e],o}function Y(t){let n,e;return n=new W({props:{article:t[1]}}),{c(){q(n.$$.fragment)},m(t,o){B(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.article=t[1]),n.$set(o)},i(t){e||(L(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){I(n,t)}}}function tt(t){let n,e,o=t[0],l=[];for(let n=0;n<o.length;n+=1)l[n]=Y(X(t,o,n));const r=t=>N(l[t],1,1,(()=>{l[t]=null}));return{c(){n=a("ul");for(let t=0;t<l.length;t+=1)l[t].c();g(n,"class","svelte-kzuem6")},m(t,o){u(t,n,o);for(let t=0;t<l.length;t+=1)l[t].m(n,null);e=!0},p(t,[e]){if(1&e){let c;for(o=t[0],c=0;c<o.length;c+=1){const r=X(t,o,c);l[c]?(l[c].p(r,e),L(l[c],1)):(l[c]=Y(r),l[c].c(),L(l[c],1),l[c].m(n,null))}for(V(),c=o.length;c<l.length;c+=1)r(c);T()}},i(t){if(!e){for(let t=0;t<o.length;t+=1)L(l[t]);e=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)N(l[t]);e=!1},d(t){t&&i(n),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(l,t)}}}function nt(t,n,e){let o;return c(t,K,(t=>e(0,o=t))),[o]}class et extends z{constructor(t){super(),J(this,t,nt,tt,r,{})}}function ot(t){let n;return{c(){n=a("span"),n.textContent="Please provide a title",g(n,"class","error svelte-1vfuxpg")},m(t,e){u(t,n,e)},d(t){t&&i(n)}}}function lt(t){let n;return{c(){n=a("span"),n.textContent="Please provide some content",g(n,"class","error svelte-1vfuxpg")},m(t,e){u(t,n,e)},d(t){t&&i(n)}}}function rt(n){let e,l,r,c,h,v,$,b,x,y,k,_,A,w,E,H,O,j,C,M,S=n[1]&&ot(),V=n[3]&&lt();return{c(){e=a("div"),l=a("h2"),l.textContent="Add a Post",r=d(),c=a("form"),h=a("label"),v=f("Title\n            "),$=a("input"),b=d(),S&&S.c(),x=d(),y=a("label"),k=f("Content\n            "),_=a("textarea"),A=d(),V&&V.c(),w=d(),E=a("div"),H=a("button"),H.textContent="Don't Add",O=d(),j=a("button"),j.textContent="Add",g(l,"class","svelte-1vfuxpg"),g($,"type","text"),g($,"class","svelte-1vfuxpg"),g(h,"class","svelte-1vfuxpg"),g(_,"class","svelte-1vfuxpg"),g(y,"class","svelte-1vfuxpg"),g(H,"class","svelte-1vfuxpg"),g(j,"class","svelte-1vfuxpg"),g(E,"class","buttons svelte-1vfuxpg"),g(c,"class","svelte-1vfuxpg")},m(t,o){u(t,e,o),s(e,l),s(e,r),s(e,c),s(c,h),s(h,v),s(h,$),m($,n[0]),s(h,b),S&&S.m(h,null),s(c,x),s(c,y),s(y,k),s(y,_),m(_,n[2]),s(y,A),V&&V.m(y,null),s(c,w),s(c,E),s(E,H),s(E,O),s(E,j),C||(M=[p($,"input",n[6]),p(_,"input",n[7]),p(H,"click",n[5]),p(c,"submit",n[4])],C=!0)},p(t,[n]){1&n&&$.value!==t[0]&&m($,t[0]),t[1]?S||(S=ot(),S.c(),S.m(h,null)):S&&(S.d(1),S=null),4&n&&m(_,t[2]),t[3]?V||(V=lt(),V.c(),V.m(y,null)):V&&(V.d(1),V=null)},i:t,o:t,d(t){t&&i(e),S&&S.d(),V&&V.d(),C=!1,o(M)}}}function ct(t,n,e){const o=b();let l="",r=!1,c="",s=!1;return[l,r,c,s,function(t){t.preventDefault(),e(1,r=!1),e(3,s=!1),l||e(1,r=!0),c||e(3,s=!0),r||s||(K.createArticle({title:l,content:c,author:{name:"Mark"}}),o("close"))},function(){o("close")},function(){l=this.value,e(0,l)},function(){c=this.value,e(2,c)}]}class st extends z{constructor(t){super(),J(this,t,ct,rt,r,{})}}function ut(n){let e,o;return e=new et({}),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),o=!0},p:t,i(t){o||(L(e.$$.fragment,t),o=!0)},o(t){N(e.$$.fragment,t),o=!1},d(t){I(e,t)}}}function it(n){let e,o;return e=new st({}),e.$on("close",n[1]),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),o=!0},p:t,i(t){o||(L(e.$$.fragment,t),o=!0)},o(t){N(e.$$.fragment,t),o=!1},d(t){I(e,t)}}}function at(t){let n,e,o,l,r,c,h,m,v,$;const b=[it,ut],x=[];function y(t,n){return t[0]?0:1}return c=y(t),h=x[c]=b[c](t),{c(){n=a("div"),e=a("h1"),o=f("My Blog\n        "),l=a("button"),l.innerHTML='<svg viewBox="0 0 24 24" class="svelte-1quonsd"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"></path></svg>',r=d(),h.c(),g(l,"class","right"),g(e,"class","svelte-1quonsd"),g(n,"id","svelte-js-blog"),g(n,"class","svelte-1quonsd")},m(i,a){u(i,n,a),s(n,e),s(e,o),s(e,l),s(n,r),x[c].m(n,null),m=!0,v||($=p(l,"click",t[1]),v=!0)},p(t,[e]){let o=c;c=y(t),c===o?x[c].p(t,e):(V(),N(x[o],1,1,(()=>{x[o]=null})),T(),h=x[c],h?h.p(t,e):(h=x[c]=b[c](t),h.c()),L(h,1),h.m(n,null))},i(t){m||(L(h),m=!0)},o(t){N(h),m=!1},d(t){t&&i(n),x[c].d(),v=!1,$()}}}function ft(t,n,e){let o=!1;return[o,function(){e(0,o=!o)}]}return new class extends z{constructor(t){super(),J(this,t,ft,at,r,{})}}({target:document.querySelector("#svelte-app")})}();
//# sourceMappingURL=bundle.js.map
